import{p as D}from"../chunks/index.DkxI9jpn.js";import{n as I,s as j,e as _,t as V,q as $,d as u,f as k,c as w,a as h,b as q,g,i as S,h as m,j as M,l as O,y as T}from"../chunks/scheduler.DcQKYvgX.js";import{S as B,i as C,t as b,a as E,e as F,c as H,b as U,m as A,d as G,g as J}from"../chunks/index.CmOltbvJ.js";import{L as K,t as N}from"../chunks/util.sFjw-znZ.js";import{P as Q,i as W,u as X}from"../chunks/repo.th6h1hFo.js";import{g as Y}from"../chunks/entry.hl2cJ02R.js";import{b as Z}from"../chunks/paths.v4bCutL6.js";const x=async s=>(await s.parent(),{post:D[s.params.uri]}),pe=Object.freeze(Object.defineProperty({__proto__:null,load:x},Symbol.toStringTag,{value:"Module"}));function z(s){let l,n;return l=new Q({props:{title:s[0].post.title,description:s[0].post.description,flavorReview:s[0].post.review.flavor,textureReview:s[0].post.review.texture,shapeReview:s[0].post.review.shape,saltReview:s[0].post.review.salt,images:s[1],address:s[0].post.address,onEdit:s[4]}}),{c(){H(l.$$.fragment)},l(e){U(l.$$.fragment,e)},m(e,a){A(l,e,a),n=!0},p(e,a){const i={};a&1&&(i.title=e[0].post.title),a&1&&(i.description=e[0].post.description),a&1&&(i.flavorReview=e[0].post.review.flavor),a&1&&(i.textureReview=e[0].post.review.texture),a&1&&(i.shapeReview=e[0].post.review.shape),a&1&&(i.saltReview=e[0].post.review.salt),a&2&&(i.images=e[1]),a&1&&(i.address=e[0].post.address),l.$set(i)},i(e){n||(b(l.$$.fragment,e),n=!0)},o(e){E(l.$$.fragment,e),n=!1},d(e){G(l,e)}}}function ee(s){let l,n,e,a,i,p,f=s[3].posts.edit.title()+"",t,R,c;document.title=l=s[3].posts.edit.title()+": "+s[0].post.title;let o=s[2]&&z(s);return{c(){n=j(),e=_("div"),a=_("div"),i=_("div"),p=_("h1"),t=V(f),R=j(),o&&o.c(),this.h()},l(r){$("svelte-b658ou",document.head).forEach(u),n=k(r),e=w(r,"DIV",{class:!0});var P=h(e);a=w(P,"DIV",{class:!0});var y=h(a);i=w(y,"DIV",{class:!0});var v=h(i);p=w(v,"H1",{class:!0});var L=h(p);t=q(L,f),L.forEach(u),R=k(v),o&&o.l(v),v.forEach(u),y.forEach(u),P.forEach(u),this.h()},h(){g(p,"class","mb-1"),g(i,"class","flex flex-grow flex-col bg-white p-4 shadow dark:bg-gray-800"),g(a,"class","mx-auto flex w-full flex-shrink flex-col p-4 py-10"),g(e,"class","flex flex-grow flex-col justify-end md:justify-start")},m(r,d){S(r,n,d),S(r,e,d),m(e,a),m(a,i),m(i,p),m(p,t),m(i,R),o&&o.m(i,null),c=!0},p(r,[d]){(!c||d&9)&&l!==(l=r[3].posts.edit.title()+": "+r[0].post.title)&&(document.title=l),(!c||d&8)&&f!==(f=r[3].posts.edit.title()+"")&&M(t,f),r[2]?o?(o.p(r,d),d&4&&b(o,1)):(o=z(r),o.c(),b(o,1),o.m(i,null)):o&&(J(),E(o,1,1,()=>{o=null}),F())},i(r){c||(b(o),c=!0)},o(r){E(o),c=!1},d(r){r&&(u(n),u(e)),o&&o.d()}}}function te(s,l,n){let e;O(s,K,t=>n(3,e=t));let{data:a}=l,i=[],p=!1;T(async()=>{try{n(1,i=await Promise.all(a.post.images.map(async t=>new File([await W(t)],t))))}finally{n(2,p=!0)}});async function f(t){await X(a.post,{title:t.title,uri:N(t.title),review:{flavor:t.flavorReview,texture:t.textureReview,shape:t.shapeReview,salt:t.saltReview,sides:t.sidesReview},description:t.description,address:t.address,images:t.images}),await Y(`${Z}/`)}return s.$$set=t=>{"data"in t&&n(0,a=t.data)},[a,i,p,e,f]}class de extends B{constructor(l){super(),C(this,l,te,ee,I,{data:0})}}export{de as component,pe as universal};
