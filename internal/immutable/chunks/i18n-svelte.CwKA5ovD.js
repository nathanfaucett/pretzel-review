import{t as T,h as V}from"./index.FWmrwH0f.js";import{r as x}from"./scheduler.BYo21klU.js";import{w as j}from"./index.B6yVox2M.js";function de(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function me(e,t){e.d(1),t.delete(e.key)}function z(e,t){V(e,1,1,()=>{t.delete(e.key)})}function pe(e,t){e.f(),z(e,t)}function ge(e,t,n,s,r,o,i,a,d,y,g,b){let l=e.length,p=o.length,m=l;const v={};for(;m--;)v[e[m].key]=m;const h=[],P=new Map,_=new Map,k=[];for(m=p;m--;){const c=b(r,o,m),u=n(c);let f=i.get(u);f?k.push(()=>f.p(c,t)):(f=y(u,c),f.c()),P.set(u,h[m]=f),u in v&&_.set(u,Math.abs(m-v[u]))}const O=new Set,A=new Set;function L(c){T(c,1),c.m(a,g),i.set(c.key,c),g=c.first,p--}for(;l&&p;){const c=h[p-1],u=e[l-1],f=c.key,w=u.key;c===u?(g=c.first,l--,p--):P.has(w)?!i.has(f)||O.has(f)?L(c):A.has(w)?l--:_.get(f)>_.get(w)?(A.add(f),L(c)):(O.add(w),l--):(d(u,i),l--)}for(;l--;){const c=e[l];P.has(c.key)||d(c,i)}for(;p;)L(h[p-1]);return x(k),h}var B=e=>!!e,M=e=>Array.from(new Set(e)),G=(e,t,...n)=>{for(let s of n){let r=N(t,s);if(r)return r}return e},N=(e,t)=>{let n=t().map(o=>o.toLowerCase()),s=M(n.flatMap(o=>[o,o.split("-")[0]])),r=e.map(o=>o.toLowerCase());return s.map(o=>{let i=r.findIndex(a=>a===o);return i>=0&&e[i]}).find(B)};const W="en",X=["en"],F={},U={},be=(...e)=>G(W,X,...e);var R=()=>new Proxy(Object.assign(()=>"",{}),{get:(e,t)=>t==="length"?0:R()}),H=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>t!=="i"&&n&&n!="0"&&[t,n]).filter(Boolean)),J=e=>Object.fromEntries(Object.keys(e).map(t=>{const n=e[t];return[t,Array.isArray(n)?n.map(s=>s==null?void 0:s.trim()):n===!!n?n:n==null?void 0:n.trim()]})),$=e=>{const[t="",...n]=e.split("|"),[s="",r]=t.split(":"),[o,i]=s.split("?");return{k:o,i:r,n:i==="",f:n}},q=e=>!!(e.o||e.r),D=(e,t)=>{let[n,s]=e.split(":");s||(s=n,n=t);const r=s.split("|"),[o,i,a,d,y,g]=r,b=r.filter(l=>l!==void 0).length;return b===1?{k:n,r:o}:b===2?{k:n,o,r:i}:b===3?{k:n,z:o,o:i,r:a}:{k:n,z:o,o:i,t:a,f:d,m:y,r:g}},Q=/^\{.*\}$/,Y=e=>Object.fromEntries(E(e).split(",").map(t=>t.split(":")).reduce((t,n)=>n.length===2?[...t,n.map(s=>s.trim())]:(t[t.length-1][1]+=","+n[0],t),[])),S=/(\{(?:[^{}]+|\{(?:[^{}]+)*\})*\})/g,E=e=>e.substring(1,e.length-1),Z=(e,t=!0,n="",s="")=>e.split(S).map(r=>{if(!r.match(S))return r;const o=E(r);if(o.startsWith("{"))return D(E(o),s);const i=$(o);return s=i.k||s,!n&&(n=s),i}).map(r=>{if(typeof r=="string")return r;r.k||(r.k=n||"0");const o=J(r);return t?H(o):o}),K=(e,t,n)=>t.reduce((s,r)=>{var o;return(r.match(Q)?(i=>i[s]??i["*"])(Y(r)):(o=e[r])==null?void 0:o.call(e,s))??s},n),ee=(e,{z:t,o:n,t:s,f:r,m:o,r:i},a)=>{switch(t&&a==0?"zero":e.select(a)){case"zero":return t;case"one":return n;case"two":return s;case"few":return r??i;case"many":return o??i;default:return i}},te=/\?\?/g,ne=(e,t,n,s)=>e.map(r=>{if(typeof r=="string")return r;const{k:o="0",f:i=[]}=r,a=s[o];return q(r)?((typeof a=="boolean"?a?r.o:r.r:ee(t,r,a))||"").replace(te,a):(""+((i.length?K(n,i,a):a)??"")).trim()}).join(""),re=(e,t,n,s)=>{const r=s[0],o=r&&typeof r=="object"&&r.constructor===Object,i=s.length===1&&o?r:s;return ne(e,t,n,i)},se=(e,t)=>e[t]||(e[t]=Z(t)),oe=(e,t)=>{const n={},s=new Intl.PluralRules(e);return(r,...o)=>re(se(n,r),s,t,o)};function ie(e,t,n={}){return C(t,oe(e,n))}var I=(e={},t)=>typeof e=="string"?t.bind(null,e):Object.assign(Object.defineProperty(()=>"","name",{writable:!0}),e),C=(e,t)=>new Proxy(I(e,t),{get:(n,s)=>s===Symbol.iterator?[][Symbol.iterator].bind(Object.values(n).map(r=>I(r,t))):C(n[s],t)}),ae=(e,t={})=>{const n=j(),s=j(R()),r=ce(n),o=new Proxy({},{get:(a,d)=>d==="subscribe"?s.subscribe:s[d]});return{locale:r,LL:o,setLocale:a=>{n.set(a),s.set(ie(a,e[a],t[a]))}}};function ce(e){return{subscribe:e.subscribe.bind(e)}}const{locale:he,LL:we,setLocale:ye}=ae(F,U);export{we as L,F as a,be as b,me as d,de as e,pe as f,U as l,ye as s,ge as u};
